services:
  claude-offline-cpu:
    build:
      context: .
      dockerfile: Dockerfile.cpu
    container_name: claude-offline-cpu
    ports:
      - "8080:8080"
    volumes:
      - ./models:/app/models
    command: >
      --host 0.0.0.0
      --port 8080
      --model /app/models/Qwen3-Coder-30B-A3B-Instruct-Q5_K_M.gguf
      --alias "Qwen3-Coder-30B-A3B"
      --n-gpu-layers 0
      --ctx-size 20000
      --threads 8
    restart: unless-stopped
